<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="author" content="amdelamar">
    <meta name="keywords" content="blog,tech,ramblingware,software,cloud,webdev,java,scala,html,css,javascript,code,programming,privacy,open,source">
    <meta name="description" content="This is my blog about computers, programming, tech, and things that bother me. I hope it bothers you too.">
    <meta name="robots" content="all">
    <link rel="canonical" href="https://amdelamar.com/blog/top-5-java-ee-tips-and-tricks/">

    
    <meta property="og:url" content="https://amdelamar.com/blog/top-5-java-ee-tips-and-tricks/">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en_US">
    <meta property="og:title" content="Top 5 Java EE Tips and Tricks">
    <meta property="og:image" content="https://cdn.ramblingware.com/file/ramblingware/2016/macbook-code-640.jpg">
    <meta property="og:description" content="5 ways you can improve your Java EE web applications, with these tips and tricks.">
    <meta property="article:author" content="amdelamar"/>

    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="https://amdelamar.com/blog/top-5-java-ee-tips-and-tricks/">
    <meta name="twitter:creator" content="@">
    <meta name="twitter:title" content="Top 5 Java EE Tips and Tricks">
    <meta name="twitter:description" content="5 ways you can improve your Java EE web applications, with these tips and tricks.">
    <meta name="twitter:image" content="https://cdn.ramblingware.com/file/ramblingware/2016/macbook-code-640.jpg">

    
    <meta itemprop="name" content="Top 5 Java EE Tips and Tricks">
    <meta itemprop="description" content="5 ways you can improve your Java EE web applications, with these tips and tricks.">
    <meta itemprop="image" content="https://cdn.ramblingware.com/file/ramblingware/2016/macbook-code-640.jpg">

    <link rel="stylesheet" type="text/css" href="https://amdelamar.com/blog/css/osseous.min.css">
    <link rel="stylesheet" href="https://amdelamar.com/css/style.min.css">
    <style>
      pre > code { background: none; }
    </style>
    <title>Top 5 Java EE Tips and Tricks - Austin Delamar</title>
</head>
<body>

<input type="checkbox" id="toggleSidebar" style="display: none;">
<nav id="sidebar" class="border-right shadow-right" aria-label="page navigation">
    <div class="nav-item-close">
      <label class="clickable" for="toggleSidebar">
        <span class="float-right" title="Close Menu" aria-label="Close">
            <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2.757 14.657L8 9.414l5.243 5.243 1.414-1.414L9.414 8l5.243-5.243-1.414-1.414L8 6.586 2.757 1.343 1.343 2.757 6.586 8l-5.243 5.243z" fill-rule="evenodd"></path></svg>
        </span>
      </label>
    </div>
    <div class="nav-list text-center">
        <a class="nav-item" href="https://amdelamar.com">
          <img class="round shade margin-right" style="vertical-align: middle" src="https://amdelamar.com/img/amdelamar.jpeg" width="24" height="24" title="A picture of me" />
          Austin Delamar</a>
        <details class="nav-item">
    		  <summary>Blog</summary>
    		  <div class="nav-list padding margin-top border-top border-bottom">
            <a class="nav-item" href="https://amdelamar.com/blog">All Posts</a>
            <a class="nav-item" href="https://amdelamar.com/blog/category/">Categories</a>
            <a class="nav-item" href="https://amdelamar.com/blog/tags/">Tags</a>
    		  </div>
    		</details>
        <a class="nav-item" href="https://amdelamar.com/#about">About</a>
        <a class="nav-item" href="https://amdelamar.com/#contact">Contact</a>
    </div>
    <div class="padding-top-large full-width text-center">
        <p class="text-small"><em>Â© <a href="https://amdelamar.com">AustinDelamar</a> - 2017-2018</em></p>
    </div>
</nav>

<nav id="navbar" aria-label="page navigation">
    <div id="navbar-body" class="container">
    <div class="nav-item-logo">
      <a href="https://amdelamar.com/blog">
        <img class="round shade margin-right" src="https://amdelamar.com/img/amdelamar.jpeg" height="45" alt="Austin Delamar Logo" />
        <span class="text-medium">Austin Delamar</span>
      </a>
    </div>
    <div class="nav-small-menu">
      <label class="clickable" for="toggleSidebar">
        <span class="nav-item" title="Open Menu">
            <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M0 7h16v2H0V7zm0-6h16v2H0V1zm0 12h16v2H0v-2z" fill-rule="evenodd"></path></svg>
        </span>
      </label>
    </div>
    <div class="nav-group nav-large-menu text-bold">
    		<div class="nav-item dropdown">
    		  <a href="#docs">Blog &#9662;</a>
    		  <div class="dropdown-body border background-lightgrey text-left">
            <a href="https://amdelamar.com/blog">All Posts</a>
            <a href="https://amdelamar.com/blog/category/">Categories</a>
            <a href="https://amdelamar.com/blog/tags/">Tags</a>
    		  </div>
    		</div>
        <a class="nav-item" href="https://amdelamar.com/#about">About</a>
    </div>
    </div>
</nav>

<article id="post">
  <div class="row section margin-top-large">
    <div class="container">
      <h2>
        Top 5 Java EE Tips and Tricks
        
      </h2>
      <p class="margin-none text-secondary">
        &nbsp;(&nbsp;<span id="read-time" title="time to read">6 min read</span>&nbsp;)&nbsp;
      </p>
      <p>
        <p>I&rsquo;ll save the obvious &ldquo;must-have&rdquo; features for Java EE webapps, for later. This post will focus on the smaller details of Java EE programming, and what useful methods might save you time and possibly increase site traffic. If you&rsquo;ve already started building your site, or you&rsquo;re maintaining an old behemoth, then these tips should help tremendously.</p>

<p>Here we go:</p>

<h2 id="1-handle-exceptions-in-jsps">1. Handle exceptions in JSPs</h2>

<p>Make an Exception JSP page, and set error handling inside your other JSP pages.</p>

<p>Add this directive to your existing JSP pages and fragments.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#177500">&lt;!-- [All plain JSP pages] --&gt;</span>
<span style="color:#000">&lt;</span>%@ page errorPage=&#34;/jsp/exception.jsp&#34; %&gt;</code></pre></div>
<p>Then make an exception.jsp page with this directive near the top.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#177500">&lt;!-- [exception.jsp] --&gt;</span>
<span style="color:#000">&lt;</span>%@ page isErrorPage=&#34;true&#34; %&gt;
<span style="color:#177500">&lt;!-- Exception : --&gt;</span>
<span style="color:#000">&lt;p&gt;</span><span style="color:#000">&lt;</span>%= exception.getLocalizedMessage() %&gt;<span style="color:#000">&lt;/p&gt;</span>
<span style="color:#177500">&lt;!-- Stack Trace : --&gt;</span>
<span style="color:#000">&lt;c:forEach</span> <span style="color:#836c28">var=</span><span style="color:#c41a16">&#34;trace&#34;</span> <span style="color:#836c28">items=</span><span style="color:#c41a16">&#34;${pageContext.exception.stackTrace}&#34;</span><span style="color:#000">&gt;</span>${trace}<span style="color:#000">&lt;br/&gt;&lt;/c:forEach&gt;</span></code></pre></div>
<p>This helps tremendously when debugging bad code inside JSPs. Especially if your pages are heavily fragmented. You can get a better idea of where that pesky NullPointerException occurs. You could get fancy and show the stack trace too, as shown above. But the only tricky part would be with the line numbers because JSP pages are not compiled like regular Java classes. So the line numbers can be much larger than expected if you&rsquo;re including lots of fragments.</p>

<h2 id="2-avoid-coding-in-jsps-as-much-as-possible">2. Avoid coding in JSPs as much as possible.</h2>

<p>Avoid blocks of code in your JSP as much as possible. Use a tag library like JSTL Core instead.</p>

<p>Avoid something like this:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#000">&lt;</span>%ArrayList<span style="color:#000">&lt;String&gt;</span> results = request.getAttribute(&#34;results&#34;);
if(results != null <span style="color:#000">&amp;&amp;</span> results.size() &gt; 0) {
    out.print(&#34;<span style="color:#000">&lt;ol</span> <span style="color:#836c28">class=</span><span style="color:#c41a16">\&#34;results\&#34;</span><span style="color:#000">&gt;</span>&#34;);
    for(String item : results) {
        out.print(&#34;<span style="color:#000">&lt;li&gt;</span>&#34;+item+&#34;<span style="color:#000">&lt;/li&gt;</span>&#34;);
    }
    out.print(&#34;<span style="color:#000">&lt;/ol&gt;</span>&#34;);
} else {
    out.print(&#34;<span style="color:#000">&lt;p</span> <span style="color:#836c28">class=</span><span style="color:#c41a16">\&#34;error\&#34;</span><span style="color:#000">&gt;</span>No results found!<span style="color:#000">&lt;/p&gt;</span>&#34;);
}%&gt;</code></pre></div>
<p>Do this instead :</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#000">&lt;</span>%@ taglib prefix=&#34;c&#34; uri=&#34;http://java.sun.com/jsp/jstl/core&#34; %&gt;
<span style="color:#000">&lt;c:set</span> <span style="color:#836c28">var=</span><span style="color:#c41a16">&#34;results&#34;</span> <span style="color:#836c28">scope=</span><span style="color:#c41a16">&#34;request&#34;</span> <span style="color:#836c28">value=</span><span style="color:#c41a16">&#34;${requestScope.results}&#34;</span> <span style="color:#000">/&gt;</span>
<span style="color:#000">&lt;c:if</span> <span style="color:#836c28">test=</span><span style="color:#c41a16">&#34;${not empty results}&#34;</span><span style="color:#000">&gt;</span>
  <span style="color:#000">&lt;ol</span> <span style="color:#836c28">class=</span><span style="color:#c41a16">&#34;results&#34;</span><span style="color:#000">&gt;</span>
    <span style="color:#000">&lt;c:forEach</span> <span style="color:#836c28">var=</span><span style="color:#c41a16">&#34;item&#34;</span> <span style="color:#836c28">items=</span><span style="color:#c41a16">&#34;${results}&#34;</span><span style="color:#000">&gt;</span>
      <span style="color:#000">&lt;li&gt;</span>${item}<span style="color:#000">&lt;/li&gt;</span>
    <span style="color:#000">&lt;/c:forEach&gt;</span>
  <span style="color:#000">&lt;/ol&gt;</span>
<span style="color:#000">&lt;/c:if&gt;</span>
<span style="color:#000">&lt;c:else&gt;</span>
  <span style="color:#000">&lt;p</span> <span style="color:#836c28">class=</span><span style="color:#c41a16">&#34;error&#34;</span><span style="color:#000">&gt;</span>No results found!<span style="color:#000">&lt;/p&gt;</span>
<span style="color:#000">&lt;/c:else&gt;</span></code></pre></div>
<p>At first glance, it doesn&rsquo;t seem too different. But the separation of design from code here, is tremendous. Now the IDE or editor you use can readily parse HTML tags, instead of blocking off entire chunks of your JSP pages. And YOU as the developer can focus on the front-end coding, rather than editing Java code every time a CSS or design structure changes.</p>

<h2 id="3-reduce-and-close-as-many-database-connections-as-possible">3. Reduce and close as many database connections as possible.</h2>

<p>Maybe you have 1 query to gather user statistics. 1 query to get <code>&lt;select&gt;</code> options for the form. 1 query to get related items in the side-bar. And finally, 1 query to get the search results. That&rsquo;s 4+ connections and 4+ SQL queries.</p>

<p>If you can reuse the same connection for all 4 queries, that would help. Or, if you can reduce the accessory queries (like the items in the side-bar) to run once, then store the values into the session attribute, then that would reduce the calls per all page loads.</p>

<p>The fewer database calls the better! This reduces the time it takes to execute and return pages. Use a try/catch/finally block to open connections, execute queries, and close connections.</p>

<h2 id="4-fragment-reusable-jsp-portions-as-much-as-possible">4. Fragment reusable JSP portions as much as possible.</h2>

<p>Yeah, you know that hoverable menu with submenus on all those pages?<br />
Move it to a separate &ldquo;menu.jspf&rdquo; page by itself.</p>

<p>Make it reusable, and encapsulated. It makes your pages much more maintainable when those big client requirements need to be done.</p>

<p>Use static <code>&lt;%@ include</code> and dynamic <code>&lt;jsp:include</code> for certain page fragments. The difference here, is dynamic include is compiled at runtime. While static include is merely copied from the source to the target JSP, and treated as one page.</p>

<p>Static include means they are put inside the calling page, and executed as one request. Dynamic include means each page is executed separately as their own request. Learn to use the right include for the right portion of your pages.</p>

<p>For example, use static includes on simple fragments, like a footer. Something that doesn&rsquo;t change. Save the dynamic includes for menus, tabs, and side-bar content.</p>

<p><h2 id="5-store-page-specific-attributes-in-the-servlet-response-and-user-specific-attributes-in-the-servlet-session">5. Store page-specific attributes in the servlet response, and user-specific attributes in the servlet session.</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#177500">// Request attribute
</span><span style="color:#177500"></span><span style="color:#000">HttpServletRequest</span>.<span style="color:#836c28">setAttribute</span>(<span style="color:#c41a16">&#34;message&#34;</span>,<span style="color:#c41a16">&#34;The email was sent!&#34;</span>);
<span style="color:#177500">// Session attribute
</span><span style="color:#177500"></span><span style="color:#000">HttpServletRequest</span>.<span style="color:#836c28">getSession</span>().<span style="color:#836c28">setAttribute</span>(<span style="color:#c41a16">&#34;username&#34;</span>, <span style="color:#000">user</span>.<span style="color:#836c28">getName</span>());</code></pre></div>
<p>Learn to store page variables like search results, into the request. And store user related variables in the session. That way, if a user navigates away from the search page, for example. Then they still retain their session, but the request page that produced the search results is no longer needed.</p></p>

<p>Requests are shorter, single-use. Sessions are longer, multi-use.</p>

<p>Also, keeping objects in their respective scopes reduces overhead, which helps performance in general.</p>

<p>And there you have it! I hope to come up with a basic guide in the future to help prioritize new Java EE projects with important features and tid-bits. But for now this should help; especially to existing monster projects.</p>

<p>And if your project already make use of these five tips, then you&rsquo;re well on your way to polishing off and deploying your web application! Good luck!</p>

      </p>
      <br/>
      <p id="post-metadata" class="text-secondary">
        <br/>
        <span id="date" title="29 Jun 16 17:00 PDT">Published: Jun 30, 2016</span><br/>
        <span id="category">Category: <a href="https://amdelamar.com/blog/category/advice" class="text-secondary">advice</a></span><br/>
        <span id="tags">Tags:
        <a href="https://amdelamar.com/blog/tags/java" class="text-secondary">java</a>, <a href="https://amdelamar.com/blog/tags/java-ee" class="text-secondary">java-ee</a></span>
      </p>
    </div>
  </div>
</article>
<footer class="row section text-center">
  <p><small><em>&#169; <a href="https://amdelamar.com">AustinDelamar</a> - 2014-2019</em></small></p>
  <a class="button button-primary float-right margin-right-large" title="Back to top" href="#">Back to Top</a>
</footer>
</body>
</html>

